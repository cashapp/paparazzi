
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Android screenshots without Android">
      
      
        <meta name="author" content="Square, Inc.">
      
      
        <link rel="canonical" href="https://cashapp.github.io/paparazzi/accessibility/">
      
      
        <link rel="prev" href="../1.x/paparazzi/app.cash.paparazzi/">
      
      
        <link rel="next" href="../changelog/">
      
      
      <link rel="icon" href="../images/icon-square.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Accessibility Snapshots - Paparazzi</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/app.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#accessibilityrenderextension-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Paparazzi" class="md-header__button md-logo" aria-label="Paparazzi" data-md-component="logo">
      
  <img src="../images/icon-square.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Paparazzi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Accessibility Snapshots
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cashapp/paparazzi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Paparazzi
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Paparazzi" class="md-nav__button md-logo" aria-label="Paparazzi" data-md-component="logo">
      
  <img src="../images/icon-square.png" alt="logo">

    </a>
    Paparazzi
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cashapp/paparazzi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Paparazzi
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1.x/paparazzi/app.cash.paparazzi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.x API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Accessibility Snapshots
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Accessibility Snapshots
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#set-up-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Set Up Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpreting-accessibility-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Interpreting Accessibility Snapshots
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#things-to-look-for" class="md-nav__link">
    <span class="md-ellipsis">
      Things to Look For
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#currently-supported-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Currently Supported Properties
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change Log
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://stackoverflow.com/questions/tagged/paparazzi?sort=active" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack Overflow ⏏
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#set-up-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Set Up Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpreting-accessibility-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Interpreting Accessibility Snapshots
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#things-to-look-for" class="md-nav__link">
    <span class="md-ellipsis">
      Things to Look For
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#currently-supported-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Currently Supported Properties
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="accessibilityrenderextension-overview">AccessibilityRenderExtension Overview<a class="headerlink" href="#accessibilityrenderextension-overview" title="Permanent link">&para;</a></h1>
<p>The <code>AccessibilityRenderExtension</code> allows accessibility properties to be visually checked alongside a snapshot of the UI under test. Like regular Paparazzi tests, tests using the <code>AccessibilityRenderExtension</code> provide a way to compare changes that update accessibility handling to “golden snapshots” that have been recorded previously. This can help catch regressions to accessibility support. The <code>AccessibilityRenderExtension</code> does <strong>not</strong> inform developers whether or not the accessibility properties and their content are appropriate for the specific use case of your UI. That is up to the developer writing the test to understand within the context of the UI under test (see below for some tips on how to verify this).</p>
<h2 id="set-up-guide">Set Up Guide<a class="headerlink" href="#set-up-guide" title="Permanent link">&para;</a></h2>
<p>To create an accessibility snapshot test, the only change needed compared to a regular Paparazzi test is to add the <code>AccessibilityRenderExtension</code> to the <code>renderExtensions</code> set in your Paparazzi configuration, as follows:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@get</span><span class="p">:</span><span class="n">Rule</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">paparazzi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paparazzi</span><span class="p">(</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="n">renderExtensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setOf</span><span class="p">(</span><span class="n">AccessibilityRenderExtension</span><span class="p">()),</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">)</span>
</code></pre></div>
<p>Recording and verifying accessibility snapshot tests works identically to regular Paparazzi tests.</p>
<h2 id="interpreting-accessibility-snapshots">Interpreting Accessibility Snapshots<a class="headerlink" href="#interpreting-accessibility-snapshots" title="Permanent link">&para;</a></h2>
<p><img alt="Figure A: Example accessibility snapshot" src="../images/accessibility_snapshot_example.png" /></p>
<p>Figure A: Example accessibility snapshot</p>
<p>The legend on the right hand side of figure A above indicates some of the properties that are available to assistive technologies (such as TalkBack). The order in which the items appear in the legend matches the order in which the screen reader will surface them to the user (in nearly all cases, they should go from start to end, top to bottom). The colors for each item in the legend match each accessibility element with its corresponding UI element. Each highlighted area is a single screen reader focusable element.</p>
<p>To help understand whether the accessibility property values you are seeing in your snapshots are sufficient for providing your customers with an accessible experience, referencing the <a href="https://www.w3.org/TR/WCAG22/">WCAG criteria</a> is a good place to start. For example, <a href="https://www.w3.org/TR/WCAG22/#name-role-value">4.1.2 Name, Role, Value</a> is a criteria that must be met for any custom component you create (standard Android components will meet this criteria by default). To pass that criteria, the name (e.g. “Submit”), role (e.g. “Button”) and value (if applicable, e.g. “Selected”), must be available to assistive technology users. You can check whether this criteria is met by verifying whether the text for each of your UI elements in the legend of your accessibility snapshots covers the name, role and value of the elements under test.</p>
<h2 id="things-to-look-for">Things to Look For<a class="headerlink" href="#things-to-look-for" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>All visually available text</strong><ul>
<li>All text you see in the UI in the left pane should also be available in the legend on the right.</li>
</ul>
</li>
<li><strong>Ordering</strong><ul>
<li>The order of the items in the legend should make logical sense within the context of your application.</li>
</ul>
</li>
<li><strong>Visual cues</strong><ul>
<li>Are there things represented by colors or position that aren’t communicated in the legend? Examples could be red used to represent an error without textual description or a label and value being next to each other visually, but displayed separately in the legend, losing that relationship.</li>
</ul>
</li>
<li><strong>Image descriptions</strong><ul>
<li>Images and icons <em>that convey meaning</em> should have descriptions for them represented in the legend. On the other hand, images and icons that <em>don’t</em> convey additional meaning (Like a ✏️ icon paired with visual “Edit” text on a button <code>[✏️ Edit]</code>) shouldn’t have representation in the legend, as that would be repetitive.</li>
</ul>
</li>
<li><strong>Roles and states</strong><ul>
<li>The correct role or state (header, button, disabled, checked, etc.) should be represented in the legend.</li>
</ul>
</li>
</ul>
<h2 id="currently-supported-properties">Currently Supported Properties<a class="headerlink" href="#currently-supported-properties" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Content Description</strong><ul>
<li>This is the main text read out by Talkback to describe a UI element. For text based elements (i.e. <code>TextView</code> or Composable <code>Text</code>), this is likely the text content itself. For text fields this would include the content entered by users.</li>
</ul>
</li>
<li><strong>Role (Compose only)</strong><ul>
<li>The role of an element, such as &ldquo;button&rdquo;, &ldquo;checkbox&rdquo;, or &ldquo;image&rdquo;. It helps assistive technologies identify the purpose of a UI component.</li>
</ul>
</li>
<li><strong>Selected state</strong><ul>
<li>Indicates whether an item is currently selected. For example, in a list of selectable items, the selected item will announce its state as &ldquo;selected&rdquo; to TalkBack users.</li>
</ul>
</li>
<li><strong>Disabled state</strong><ul>
<li>Indicates whether an element is currently disabled and not interactive. Disabled elements are announced as &ldquo;disabled&rdquo; by TalkBack, signaling they are unavailable for interaction.</li>
</ul>
</li>
<li><strong>On click label (Compose only)</strong><ul>
<li>Provides additional context to a user about what will happen when an element is activated. This label is read by TalkBack alongside the action and is especially useful for custom buttons or interactive elements.</li>
</ul>
</li>
<li><strong>Heading (Compose only)</strong><ul>
<li>Marks an element as a heading for screen readers. This helps users navigate through content quickly, as headings can be used as landmarks or points of reference in a layout.</li>
</ul>
</li>
<li><strong>Toggleable state</strong><ul>
<li>Indicates whether an element can be toggled on or off, such as a switch or a checkbox. The state (e.g. &ldquo;checked&rdquo; or &ldquo;unchecked&rdquo;) is announced by TalkBack to convey its current value.</li>
</ul>
</li>
<li><strong>Error Description</strong><ul>
<li>Provides additional context to a user about what went wrong when an error occurs. This is especially useful for form fields or other interactive elements that may have validation errors.</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019 Square, Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>